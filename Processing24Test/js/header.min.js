import{changeActive,setAttr,toggleAttr,addEventListenerToElements}from"./utils.js";export function header(){const e=document.querySelector(".header .menu-icon"),t=document.querySelector(".mobile-header"),n=document.querySelectorAll(".list-header__select"),l=Math.max(window.innerWidth,document.documentElement.clientWidth,document.body.clientWidth,0),o={isDesktopFlagFlag:!0,isMobileFlagFlag:!0};let s=[[],[]];e&&t&&e.addEventListener("click",(n=>{e.style.pointerEvents="none",e.classList.toggle("active"),document.body.style.overflow?document.body.style.overflow=null:document.body.style.overflow="hidden",window.scrollTo({top:0,behavior:"smooth"}),t.style.left?t.style.left=null:t.style.left=0,toggleAttr.bind(e),e.style.pointerEvents=null})),l>850?(s[0]=addEventListenerToElements(n,setAttr,"mouseenter","aria-expanded",!0),s[1]=addEventListenerToElements(n,setAttr,"mouseleave","aria-expanded",!1)):addEventListenerToElements(n,changeActive,"click"),window.addEventListener("resize",(()=>{const l=Math.max(window.innerWidth,document.documentElement.clientWidth,document.body.clientWidth,0);e&&t&&n&&(l>850&&o.isDesktopFlag?(document.body.style.overflow=null,t.style.left=null,e.style.pointerEvents=null,e.classList.remove("active"),e.setAttribute("aria-expanded","false"),n.forEach((e=>{setAttr.call(e,"aria-expanded","false")})),n.forEach((e=>{e.removeEventListener("click",changeActive)})),s[0]=[...addEventListenerToElements(n,setAttr,"mouseenter","aria-expanded",!0)],s[1]=[...addEventListenerToElements(n,setAttr,"mouseleave","aria-expanded",!1)],o.isDesktopFlag=!1,o.isMobileFlag=!0):l<=850&&o.isMobileFlag&&(addEventListenerToElements(n,changeActive,"click"),n.forEach(((e,t)=>{e.removeEventListener("mouseenter",s[0]?.[t]),e.removeEventListener("mouseleave",s[1]?.[t])})),s=[[],[]],o.isDesktopFlag=!0,o.isMobileFlag=!1))}))}